---
layout: post
title: Models for Option Pricing
subtitle: Can a model reproduce Black-Scholes when given the same inputs?
bigimg: /img/blue-and-yellow-graph-on-stock-market-monitor-159888.jpg
tags: [finance, options, black-scholes]

---

# Option Pricing

### History
The Black-Scholes-Merton (BSM) option pricing model was first introduced in 1973 by Fischer Black and Myron Scholes in their
seminal paper titled, "The Pricing of Options and Corporate Liabilities" published in the *Journal of Political Economy*. It's
influence on financial markets is hard to understate, and in recognition of their work, Scholes and Merton were awarded the 
Nobel Prize in Economics in 1997. Since it's publication, the BSM pricing model has become THE foundational model for pricing 
the theorectical values of all option types. Specifically, the Black Model is a derivation of the original BSM formula that 
is used to value the price of European options on both forwards and futures. 

Prior to their publication, other research had been done in order to value option prices, but most models revolved around the 
pricing of warrants. Most notably, Sprenkle (1961) was able to derive a formula that looks very similar to what we know today 
as the BSM model, however, there were various other parameters that needed to be estimated (such as *k** which can be thought 
of as the discount factor adjusted for the stock specific risk) in order to derive the options value -- even Sprenkle 
himself could not estimate some of the these variables efficiently and reliably, creating numerous arbitrage opportunities. 
Ultimately, the BSM model won out in terms of it's use case and is used today as the foremost method for pricing financial 
options.


### BSM Model Inputs, Outputs and Methodology
In order for the BSM model to work, Fischer and Scholes make a number of assumptions:
 
 - (1) The underlying asset price follows a geometric Brownian motion process, and the underlying returns are lognormally 
 distributed 
 - (2) The continuously compounded, risk-free rate of return is both constant and known
 - (3) The annualized volatility of the unerlying asset is both constant and known
 - (4) There are no transaction costs (taxes, fees, etc.) and there are no restrictions on short sales and their profits
 - (5) The continuouly compounded yield on the underlying asset is both constant and known
 - (6) The options are European, and can only be exercised at expiration
 
that  satisfies the condition of no aribitrage opportunities. The idea is that, given the underlying stock price (S), strike 
price(X), risk-free rate(r), time to maturity(T), and N(d1) and N(d2) you can calculate the price of this option based on the 
discounted value of the strike based on the time and a gaussian distribution of returns. The N(d1) and N(d2) terms are 
probabilities; N(d1) is thought of as the conditional probability of ..... N(d2) is thought of as the probability that the 
option price is expire in-the-money(ITM). When combined, these factors can be used to value both call and put options -- while 
satisfying the no arbitrage condition mentioned earlier via put-call parity.

Refer to CFA material 
Equations, and outputs latex


# Modeling
Linear Regression and Random Forest (Why?)
Linear v. Nonlinear (ensemble)
Methodology - if a model can accurately predict the options trade price, using the same inputs as the BSM model, maybe we can 
reengineer, amend, or add additional parameters, to try and create a better, more effective model for pricing the true value 
of the options


### Dataset 
- Why this one? 
CBOE official source for options and option pricing data
Depth and granularity of the data, and the most official information based on what actually happens in the options market

- Cleaning and analysis
underlying ask != 0
time frame is predefined for 2019 
code snippets



### Features
- Feature Engineering (code)
risk-free rate = annualized 10-year rate for 2019 (source)
annualized volatility for 2019 = 28.88% (source)
time to maturity

Original Features: BSM equation inputs; strike(X); current underlying price(S); risk-free rate(r); time to maturity (T); 
N(d1); N(d2).

Additional Features: trade delta; the underlying ask - strike = distance from the strike; option_bid_ask_spread; 
underlying_bid_ask_spread

All Features: both sets together 

### Results and Scoring
All 5 models and thesis
MSE
RMSE
R^2

Visualizations
Linear Equations (coefficients and intercept for linear models)
Random Forest Feature Importances Graphing


### Permutation and Shaply Feature Importance
Feature Importances
Visual
Equations and Output
- Graphing relationship between trade delta and option price


Permutation methodology
why? thesis? output?
- eli5 

Shaply Methodology
why? thesis? output?
- shaply graphing



# Further Analysis Road-Map
This a the beginning of a continued foray into finding new and improved ways to price options based off numeric, non-numeric, 
financial and alternative data. By utilizing both financial, and non-financial information, and repurposing other ideas from 
other disciplines, I hope to create a dataset informative enough to fit a model that can rival one that is given the BSM 
inputs. Namely, I hope to recalibrate the existing BSM model, specifically the use of Brownian Motion in defining the Random 
Walk and implement something that is more indicative of the dynamic system that is financial markets. 


